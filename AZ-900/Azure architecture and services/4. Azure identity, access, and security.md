# Azure Directory Services

## Microsoft Entra ID

### Overview
Microsoft Entra ID is a directory service that enables sign-in and access to Microsoft cloud applications and custom-developed cloud applications. It also helps maintain on-premises Active Directory deployments.

### Key Features

#### Authentication
- **Identity Verification:** Access applications and resources.
- **Advanced Features:** Self-service password reset, multifactor authentication, custom banned passwords, smart lockout services.

#### Single Sign-On (SSO)
- **Simplified Access:** Use one username and password for multiple applications.
- **Unified Identity:** Reduces security management complexity by tying a single identity to a user.

#### Application Management
- **Unified Management:** Manage cloud and on-premises apps.
- **Enhanced User Experience:** Features like Application Proxy, SaaS apps, My Apps portal, and SSO.

#### Device Management
- **Device Registration:** Supports device registration for management.
- **Conditional Access:** Restrict access based on device compliance using tools like Microsoft Intune.

### User Roles
- **IT Administrators:** Control access to applications and resources based on business requirements.
- **App Developers:** Add SSO and credential management to applications.
- **Users:** Manage identities and perform actions like self-service password reset.
- **Service Subscribers:** Microsoft 365, Office 365, Azure, Dynamics CRM Online subscribers use Entra ID for authentication.

### Connecting On-Premises AD with Microsoft Entra ID
- **Unified Identity Experience:** Connect on-premises AD with Microsoft Entra ID using Microsoft Entra Connect.
- **Synchronization:** Synchronizes user identities and changes between on-premises AD and Entra ID.
- **Enhanced Security:** Enables SSO, multifactor authentication, and self-service password reset.

## Microsoft Entra Domain Services

### Overview
Microsoft Entra Domain Services provides managed domain services like domain join, group policy, LDAP, and Kerberos/NTLM authentication, without needing to manage the infrastructure.

<img src="https://learn.microsoft.com/en-in/training/wwl-azure/describe-azure-identity-access-security/media/azure-active-directory-sync-topology-7359f2b8.png" alt="Static Website Configuration Screenshot" width="600" height="300"> 

### Key Features
- **Managed Domain:** Run legacy applications in the cloud without modern authentication methods.
- **Integration:** Integrates with existing Microsoft Entra tenant for seamless user experience.
- **Synchronized Information:** One-way synchronization from Entra ID to Entra Domain Services.

### Working Mechanism
- **Namespace Definition:** Define a unique domain name.
- **Deployment:** Deploys two Windows Server domain controllers in the selected Azure region.
- **Management:** Azure handles configuration, updates, backups, and encryption of DCs.

### Use Cases
- **Lift-and-Shift:** Move legacy applications to the cloud without managing AD DS environment.
- **Hybrid Environments:** Synchronize identity information from on-premises AD to Entra ID, then to the managed domain.

# Azure Authentication Methods

Authentication is the process of establishing the identity of a person, service, or device by providing some type of credential. Azure supports multiple authentication methods to balance security and convenience.

## Authentication Methods in Azure

- **Standard Passwords**
- **Single Sign-On (SSO)**
- **Multifactor Authentication (MFA)**
- **Passwordless Authentication**

## Single Sign-On (SSO)

- Enables a user to sign in once and use that credential to access multiple resources and applications.
- Simplifies identity and password management.
- Reduces risk of credential-related security incidents.
- Eases IT management and enhances user convenience.

**Important**: SSO security depends on the initial authenticator's security.

## Multifactor Authentication (MFA)

- Requires an additional form of identification beyond the password.
- Enhances security by requiring two or more elements:
  - Something the user knows (e.g., a challenge question)
  - Something the user has (e.g., a code sent to a mobile phone)
  - Something the user is (e.g., a biometric property)
- Protects against password compromises.

### Microsoft Entra Multifactor Authentication

- Provides multifactor authentication capabilities.
- Users can choose additional forms of authentication, such as a phone call or app notification.

## Passwordless Authentication

- Removes the need for passwords, replacing them with:
  - Something you have (e.g., a registered device)
  - Something you are (e.g., a biometric property)
  - Something you know (e.g., a PIN)
- Provides high security and convenience.

### Passwordless Authentication Options

1. **Windows Hello for Business**
   - Ideal for information workers with designated Windows PCs.
   - Uses biometric and PIN credentials tied to the user's PC.

2. **Microsoft Authenticator App**
   - Turns any iOS or Android phone into a passwordless credential.
   - Uses biometric or PIN for confirmation.

3. **FIDO2 Security Keys**
   - Provides an unphishable, standards-based passwordless authentication method.
   - Can come in various form factors (e.g., USB devices, Bluetooth, NFC).
   - Enhances security by using an external security key or a built-in platform key.

### Comparison of Authentication Methods

| Method               | Security Level | Convenience Level |
|----------------------|----------------|-------------------|
| Passwords            | Low            | High              |
| Passwords + 2FA      | High           | Low               |
| Passwordless         | High           | High              |

# Azure External Identities

An external identity refers to a person, device, service, etc., that is outside your organization. Microsoft Entra External ID encompasses all the ways to securely interact with users outside of your organization.

<img src="https://learn.microsoft.com/en-in/training/wwl-azure/describe-azure-identity-access-security/media/azure-active-directory-external-identities-5a892021.png" alt="Static Website Configuration Screenshot" width="500" height="600"> 

## Key Features of Azure External Identities

- **Business to Business (B2B) Collaboration**
  - External users use their preferred identity to sign in to your applications.
  - Users are typically represented in your directory as guest users.

- **B2B Direct Connect**
  - Establishes mutual, two-way trust with another Microsoft Entra organization.
  - Supports Teams shared channels for seamless collaboration.
  - Users are not represented in your directory but are visible in Teams shared channels.

- **Azure Active Directory Business to Customer (B2C)**
  - Manages identities and access for consumer-facing apps.
  - Supports modern SaaS apps and custom-developed apps.

## Benefits of External Identities

- **"Bring Your Own Identity"**
  - External users can sign in using their own credentials from corporate, government-issued, or social identities like Google or Facebook.
  - The external user's identity provider manages their identity while you manage access with Microsoft Entra ID or Azure AD B2C.

## Enabling Collaboration

- **Inviting Guest Users**
  - Administrators or users can invite guest users from other tenants.
  - Applicable to social identities such as Microsoft accounts.

- **Access Reviews**
  - Ensure appropriate access for guest users.
  - Guests or decision makers participate in access reviews and recertify users' access.
  - Reviewers provide input based on suggestions from Microsoft Entra ID.
  - Make changes and remove access for guests who no longer need it.

## Diagram Explanation

- **B2B Collaborators**
  - Access your tenant using their preferred identity.

- **B2C Collaborators**
  - Access Azure AD B2C tenant for consumer-facing applications.

